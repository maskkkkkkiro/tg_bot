@echo off
echo ðŸš€ ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð° Ð½Ð° VDS...
echo.

REM ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ Node.js
node --version >nul 2>&1
if errorlevel 1 (
    echo âŒ Node.js Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½! Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Node.js
    pause
    exit /b 1
)

REM Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ ssh2 ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾
npm list ssh2 >nul 2>&1
if errorlevel 1 (
    echo ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ ssh2...
    npm install ssh2
)

REM Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°
echo ðŸ”„ ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ðº VDS Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð±Ð¾Ñ‚Ð°...
node -e "
const { restartBot } = require('./vds_restart.js');
restartBot()
    .then(result => {
        console.log(result);
        console.log('âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!');
        process.exit(0);
    })
    .catch(error => {
        console.error('âŒ ÐžÑˆÐ¸Ð±ÐºÐ°:', error);
        process.exit(1);
    });
"

echo.
echo ðŸ“‹ ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð»ÑŽÐ±ÑƒÑŽ ÐºÐ»Ð°Ð²Ð¸ÑˆÑƒ Ð´Ð»Ñ Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ...
pause >nul
